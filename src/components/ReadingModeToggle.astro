---
// This component works with both light/dark modes
---

<div id="reading-mode-toggle-container">
  <button 
    id="readingModeToggle"
    class="reading-mode-btn"
    aria-label="Toggle reading mode"
    title="Hide/show ads for better concentration"
  >
    ðŸ”• Reading Mode
  </button>
</div>

<script>
  // Function to toggle reading mode
  const toggleReadingMode = () => {
    const body = document.body;
    const isReadingMode = body.classList.toggle('reading-mode');
    const btn = document.getElementById('readingModeToggle');
    
    // Update button text
    btn.textContent = isReadingMode 
      ? 'ðŸ“š Exit Reading Mode' 
      : 'ðŸ”• Reading Mode';
    
    // Save to localStorage
    localStorage.setItem('txchyon-reading-mode', isReadingMode);
    
    // Show subtle notification
    if (isReadingMode) {
      console.log('Ads hidden. Happy reading! ðŸ“–');
    } else {
      console.log('Ads restored.');
    }
  };
  
  // Initialize on page load
  document.addEventListener('DOMContentLoaded', () => {
    const btn = document.getElementById('readingModeToggle');
    const isReadingMode = localStorage.getItem('txchyon-reading-mode') === 'true';
    
    // Set initial state
    if (isReadingMode) {
      document.body.classList.add('reading-mode');
      btn.textContent = 'ðŸ“š Exit Reading Mode';
    }
    
    // Add click event
    btn.addEventListener('click', toggleReadingMode);
  });
</script>

<style>
  /* Button styles that work with both themes */
  .reading-mode-btn {
    position: fixed;
    bottom: 24px;
    right: 24px;
    z-index: 999;
    
    /* Dark mode */
    background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
    color: white;
    border: 1px solid rgba(99, 102, 241, 0.3);
    
    /* Light mode override */
    .light & {
      background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
      border: 1px solid rgba(59, 130, 246, 0.3);
    }
    
    /* Common styles */
    padding: 12px 20px;
    border-radius: 30px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 600;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .reading-mode-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
  }
  
  /* Reading mode styles - hide ads */
  body.reading-mode .ad-container,
  body.reading-mode ins.adsbygoogle,
  body.reading-mode .adsbygoogle {
    display: none !important;
    opacity: 0 !important;
    height: 0 !important;
    overflow: hidden !important;
    margin: 0 !important;
    padding: 0 !important;
  }
  
  /* Optional: Enhance reading experience */
  body.reading-mode .article-content {
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
  }
</style>