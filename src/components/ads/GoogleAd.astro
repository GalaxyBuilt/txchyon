---
// Only show ads on blog posts
const { pathname } = Astro.url;
const isBlogPost = pathname.startsWith('/blog/');
const isPostDetail = pathname.includes('/blog/') && !pathname.endsWith('/blog');
const shouldShowAds = isBlogPost && import.meta.env.PROD; // Only in production
---

{shouldShowAds && (
  <div class="ad-container" data-ad-type="blog">
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6121972957488905"
     crossorigin="anonymous"></script>
    
    <!-- Responsive Ad Unit -->
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-6121972957488905"
         data-ad-slot="1234567890" <!-- You'll get this from AdSense -->
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
    
    <!-- Optional: Ad disclosure -->
    <div class="ad-disclosure">
      <span class="text-xs opacity-70">Advertisement</span>
    </div>
  </div>
)}

<style>
  .ad-container {
    margin: 2rem auto;
    padding: 1rem;
    text-align: center;
    max-width: 1200px;
    
    /* Dark mode */
    background: rgba(30, 41, 59, 0.3);
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 12px;
    
    /* Light mode */
    .light & {
      background: rgba(241, 245, 249, 0.6);
      border: 1px solid rgba(59, 130, 246, 0.2);
    }
  }
  
  .ad-disclosure {
    margin-top: 0.5rem;
    color: #6b7280;
    
    .dark & {
      color: #9ca3af;
    }
  }
</style>